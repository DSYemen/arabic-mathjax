!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ArabicMathJax=e():t.ArabicMathJax=e()}(this,()=>(()=>{"use strict";var t,e,s={d:(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};s.r(i),s.d(i,{ArabicConfiguration:()=>ht}),function(t){t.HANDLER="handler",t.FALLBACK="fallback",t.ITEMS="items",t.TAGS="tags",t.OPTIONS="options",t.NODES="nodes",t.PREPROCESSORS="preprocessors",t.POSTPROCESSORS="postprocessors",t.INIT="init",t.CONFIG="config",t.PRIORITY="priority",t.PARSER="parser"}(t||(t={})),function(t){t.DELIMITER="delimiter",t.MACRO="macro",t.CHARACTER="character",t.ENVIRONMENT="environment"}(e||(e={}));class r{constructor(){this.items=[],this.items=[]}[Symbol.iterator](){let t=0,e=this.items;return{next:()=>({value:e[t++],done:t>e.length})}}add(t,e=r.DEFAULTPRIORITY){let s=this.items.length;do{s--}while(s>=0&&e<this.items[s].priority);return this.items.splice(s+1,0,{item:t,priority:e}),t}remove(t){let e=this.items.length;do{e--}while(e>=0&&this.items[e].item!==t);return e>=0&&this.items.splice(e,1),this}}r.DEFAULTPRIORITY=5;let n=new Map;const a={register(t){n.set(t.name,t)},getMap:t=>n.get(t)},o={UNIT_CASES:new class{constructor(t){this.num="([-+]?([.,]\\d+|\\d+([.,]\\d*)?))",this.unit="",this.dimenEnd=/./,this.dimenRest=/./,this.map=new Map(t),this.updateDimen()}updateDimen(){this.unit=`(${Array.from(this.map.keys()).join("|")})`,this.dimenEnd=RegExp("^\\s*"+this.num+"\\s*"+this.unit+"\\s*$"),this.dimenRest=RegExp("^\\s*"+this.num+"\\s*"+this.unit+" ?")}set(t,e){return this.map.set(t,e),this.updateDimen(),this}get(t){return this.map.get(t)||this.map.get("pt")}delete(t){return!!this.map.delete(t)&&(this.updateDimen(),!0)}}([["em",1],["ex",.43],["pt",.1],["pc",1.2],["px",.1],["in",7.2],["cm",7.2/2.54],["mm",7.2/25.4],["mu",1/18]]),matchDimen(t,e=!1){let s=t.match(e?o.UNIT_CASES.dimenRest:o.UNIT_CASES.dimenEnd);return s?function([t,e,s]){return"mu"!==e?[t,e,s]:[o.em(o.UNIT_CASES.get(e)*parseFloat(t||"1")).slice(0,-2),"em",s]}([s[1].replace(/,/,"."),s[4],s[0].length]):[null,null,0]},dimen2em(t){let[e,s]=o.matchDimen(t),i=parseFloat(e||"1"),r=o.UNIT_CASES.get(s);return r?r*i:0},em:t=>Math.abs(t)<6e-4?"0em":t.toFixed(3).replace(/\.?0+$/,"")+"em",trimSpaces(t){if("string"!=typeof t)return t;let e=t.trim();return e.match(/\\$/)&&t.match(/ $/)&&(e+=" "),e}},E="_inherit_";class h{constructor(t,e){this.global=e,this.defaults=Object.create(e),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,t)}set(t,e){this.attributes[t]=e}setList(t){Object.assign(this.attributes,t)}unset(t){delete this.attributes[t]}get(t){let e=this.attributes[t];return e===E&&(e=this.global[t]),e}getExplicit(t){return this.hasExplicit(t)?this.attributes[t]:void 0}hasExplicit(t){return this.attributes.hasOwnProperty(t)}hasOneOf(t){for(const e of t)if(this.hasExplicit(e))return!0;return!1}getList(...t){let e={};for(const s of t)e[s]=this.get(s);return e}setInherited(t,e){this.inherited[t]=e}getInherited(t){return this.inherited[t]}getDefault(t){return this.defaults[t]}isSet(t){return this.attributes.hasOwnProperty(t)||this.inherited.hasOwnProperty(t)}hasDefault(t){return t in this.defaults}getExplicitNames(){return Object.keys(this.attributes)}getInheritedNames(){return Object.keys(this.inherited)}getDefaultNames(){return Object.keys(this.defaults)}getGlobalNames(){return Object.keys(this.global)}getAllAttributes(){return this.attributes}getAllInherited(){return this.inherited}getAllDefaults(){return this.defaults}getAllGlobals(){return this.global}}class l{constructor(t,e={},s=[]){this.factory=t,this.parent=null,this.properties={},this.childNodes=[];for(const t of Object.keys(e))this.setProperty(t,e[t]);s.length&&this.setChildren(s)}get kind(){return"unknown"}setProperty(t,e){this.properties[t]=e}getProperty(t){return this.properties[t]}getPropertyNames(){return Object.keys(this.properties)}getAllProperties(){return this.properties}removeProperty(...t){for(const e of t)delete this.properties[e]}isKind(t){return this.factory.nodeIsKind(this,t)}setChildren(t){this.childNodes=[];for(let e of t)this.appendChild(e)}appendChild(t){return this.childNodes.push(t),t.parent=this,t}replaceChild(t,e){let s=this.childIndex(e);return null!==s&&(this.childNodes[s]=t,t.parent=this,e.parent===this&&(e.parent=null)),t}removeChild(t){const e=this.childIndex(t);return null!==e&&(this.childNodes.splice(e,1),t.parent=null),t}childIndex(t){let e=this.childNodes.indexOf(t);return-1===e?null:e}copy(){const t=this.factory.create(this.kind);t.properties=Object.assign({},this.properties);for(const e of this.childNodes||[])e&&t.appendChild(e.copy());return t}findNodes(t){let e=[];return this.walkTree(s=>{s.isKind(t)&&e.push(s)}),e}walkTree(t,e){t(this,e);for(const s of this.childNodes)s&&s.walkTree(t,e);return e}toString(){return this.kind+"("+this.childNodes.join(",")+")"}}class c extends l{setChildren(t){}appendChild(t){return t}replaceChild(t,e){return e}childIndex(t){return null}walkTree(t,e){return t(this,e),e}toString(){return this.kind}}const R=-1,u=["","thinmathspace","mediummathspace","thickmathspace"],L=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],d=new Set(["normal","bold","italic","bold-italic","double-struck","fraktur","bold-fraktur","script","bold-script","sans-serif","bold-sans-serif","sans-serif-italic","sans-serif-bold-italic","monospace","inital","tailed","looped","stretched"]);class N extends l{constructor(t,e={},s=[]){super(t),this.prevClass=null,this.prevLevel=null,this.texclass=null,this.arity<0&&(this.childNodes=[t.create("inferredMrow")],this.childNodes[0].parent=this),this.setChildren(s),this.attributes=new h(t.getNodeClass(this.kind).defaults,t.getNodeClass("math").defaults),this.attributes.setList(e)}copy(t=!1){const e=this.factory.create(this.kind);if(e.properties=Object.assign({},this.properties),this.attributes){const s=this.attributes.getAllAttributes();for(const i of Object.keys(s))("id"!==i||t)&&e.attributes.set(i,s[i])}if(this.childNodes&&this.childNodes.length){let t=this.childNodes;1===t.length&&t[0].isInferred&&(t=t[0].childNodes);for(const s of t)s?e.appendChild(s.copy()):e.childNodes.push(null)}return e}get texClass(){return this.texclass}set texClass(t){this.texclass=t}get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return"data-align"}get arity(){return 1/0}get isInferred(){return!1}get Parent(){let t=this.parent;for(;t&&t.notParent;)t=t.Parent;return t}get notParent(){return!1}setChildren(t){return this.arity<0?this.childNodes[0].setChildren(t):super.setChildren(t)}appendChild(t){if(this.arity<0)return this.childNodes[0].appendChild(t),t;if(t.isInferred){if(this.arity===1/0)return t.childNodes.forEach(t=>super.appendChild(t)),t;const e=t;(t=this.factory.create("mrow")).setChildren(e.childNodes),t.attributes=e.attributes;for(const s of e.getPropertyNames())t.setProperty(s,e.getProperty(s))}return super.appendChild(t)}replaceChild(t,e){return this.arity<0?(this.childNodes[0].replaceChild(t,e),t):super.replaceChild(t,e)}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){let t=this,e=t.parent;for(;e&&e.notParent;)t=e,e=e.parent;if(e){let s=0;for(const i of e.childNodes){if(i===t)return s;s++}}return null}setTeXclass(t){return this.getPrevClass(t),null!=this.texClass?this:t}updateTeXclass(t){t&&(this.prevClass=t.prevClass,this.prevLevel=t.prevLevel,t.prevClass=t.prevLevel=null,this.texClass=t.texClass)}getPrevClass(t){t&&(this.prevClass=t.texClass,this.prevLevel=t.attributes.get("scriptlevel"))}texSpacing(){let t=null!=this.prevClass?this.prevClass:R,e=this.texClass||0;if(t===R||e===R)return"";let s=L[t][e];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&s>=0?"":u[Math.abs(s)]}hasSpacingAttributes(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()}setInheritedAttributes(t={},e=!1,s=0,i=!1){var r,n,a;let o=this.attributes.getAllDefaults();for(const e of Object.keys(t)){if(o.hasOwnProperty(e)||N.alwaysInherit.hasOwnProperty(e)){let[s,i]=t[e];!(null===(n=null===(r=N.noInherit[s])||void 0===r?void 0:r[this.kind])||void 0===n?void 0:n[e])&&this.attributes.setInherited(e,i)}(null===(a=N.stopInherit[this.kind])||void 0===a?void 0:a[e])&&delete(t=Object.assign({},t))[e]}void 0===this.attributes.getExplicit("displaystyle")&&this.attributes.setInherited("displaystyle",e),void 0===this.attributes.getExplicit("scriptlevel")&&this.attributes.setInherited("scriptlevel",s),i&&this.setProperty("texprimestyle",i);let E=this.arity;if(E>=0&&E!==1/0&&(1===E&&0===this.childNodes.length||1!==E&&this.childNodes.length!==E))if(E<this.childNodes.length)this.childNodes=this.childNodes.slice(0,E);else for(;this.childNodes.length<E;)this.appendChild(this.factory.create("mrow"));if(this.linebreakContainer&&!this.isEmbellished){const e=this.linebreakAlign;if(e){const s=this.attributes.get(e)||"left";t=this.addInheritedAttributes(t,{indentalign:s,indentshift:"0",indentalignfirst:s,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"})}}this.setChildInheritedAttributes(t,e,s,i)}setChildInheritedAttributes(t,e,s,i){for(const r of this.childNodes)r.setInheritedAttributes(t,e,s,i)}addInheritedAttributes(t,e){let s=Object.assign({},t);for(const t of Object.keys(e))"displaystyle"!==t&&"scriptlevel"!==t&&"style"!==t&&(s[t]=[this.kind,e[t]]);return s}inheritAttributesFrom(t){const e=t.attributes,s=e.get("displaystyle"),i=e.get("scriptlevel"),r=e.isSet("mathsize")?{mathsize:["math",e.get("mathsize")]}:{},n=t.getProperty("texprimestyle")||!1;this.setInheritedAttributes(r,s,i,n)}verifyTree(t=null){if(null===t)return;this.verifyAttributes(t);let e=this.arity;t.checkArity&&e>=0&&e!==1/0&&(1===e&&0===this.childNodes.length||1!==e&&this.childNodes.length!==e)&&this.mError('Wrong number of children for "'+this.kind+'" node',t,!0),this.verifyChildren(t)}verifyAttributes(t){if(t.checkAttributes){const e=this.attributes,s=[];for(const t of e.getExplicitNames())"data-"===t.substring(0,5)||void 0!==e.getDefault(t)||t.match(/^(?:class|style|id|(?:xlink:)?href)$/)||s.push(t);s.length&&this.mError("Unknown attributes for "+this.kind+" node: "+s.join(", "),t)}if(t.checkMathvariants){const e=this.attributes.getExplicit("mathvariant");!e||d.has(e)||this.getProperty("ignore-variant")||this.mError(`Invalid mathvariant: ${e}`,t,!0)}}verifyChildren(t){for(const e of this.childNodes)e.verifyTree(t)}mError(t,e,s=!1){if(this.parent&&this.parent.isKind("merror"))return null;let i=this.factory.create("merror");if(i.attributes.set("data-mjx-message",t),e.fullErrors||s){let s=this.factory.create("mtext"),r=this.factory.create("text");r.setText(e.fullErrors?t:this.kind),s.appendChild(r),i.appendChild(s),this.parent.replaceChild(i,this),e.fullErrors||i.attributes.set("title",t)}else this.parent.replaceChild(i,this),i.appendChild(this);return i}}N.defaults={mathbackground:E,mathcolor:E,mathsize:E,dir:E},N.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}},mtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}},mlabeledtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}}},N.stopInherit={mtd:{columnalign:!0,rowalign:!0,groupalign:!0}},N.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0,infixlinebreakstyle:!0},N.verifyDefaults={checkArity:!0,checkAttributes:!1,checkMathvariants:!0,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0};class I extends N{get isToken(){return!0}getText(){let t="";for(const e of this.childNodes)e instanceof C?t+=e.getText():"textContent"in e&&(t+=e.textContent());return t}setChildInheritedAttributes(t,e,s,i){for(const r of this.childNodes)r instanceof N&&r.setInheritedAttributes(t,e,s,i)}walkTree(t,e){t(this,e);for(const s of this.childNodes)s instanceof N&&s.walkTree(t,e);return e}}I.defaults=Object.assign(Object.assign({},N.defaults),{mathvariant:"normal",mathsize:E}),class extends N{get isSpacelike(){return this.childNodes[0].isSpacelike}get isEmbellished(){return this.childNodes[0].isEmbellished}get arity(){return-1}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}.defaults=N.defaults,class extends N{get isEmbellished(){return this.childNodes[0].isEmbellished}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){this.getPrevClass(t),this.texClass=0;let e=this.childNodes[0];e?this.isEmbellished||e.isKind("mi")?(t=e.setTeXclass(t),this.updateTeXclass(this.core())):(e.setTeXclass(null),t=this):t=this;for(const t of this.childNodes.slice(1))t&&t.setTeXclass(null);return t}}.defaults=N.defaults;class g extends c{get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return""}get arity(){return 0}get isInferred(){return!1}get notParent(){return!1}get Parent(){return this.parent}get texClass(){return R}get prevClass(){return R}get prevLevel(){return 0}hasSpacingAttributes(){return!1}get attributes(){return null}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){return 0}setTeXclass(t){return t}texSpacing(){return""}setInheritedAttributes(t,e,s,i){}inheritAttributesFrom(t){}verifyTree(t){}mError(t,e,s=!1){return null}}class C extends g{constructor(){super(...arguments),this.text=""}get kind(){return"text"}getText(){return this.text}setText(t){return this.text=t,this}copy(){return this.factory.create(this.kind).setText(this.getText())}toString(){return this.text}}function T(t,e,s=2,i=null){return[t,e,s,i]}const p={ORD:T(0,0,0),ORD11:T(1,1,0),ORD21:T(2,1,0),ORD02:T(0,2,0),ORD55:T(5,5,0),NONE:T(0,0,R),OP:T(1,2,1,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:T(1,2,1,{largeop:!0,movablelimits:!0}),INTEGRAL:T(0,1,1,{largeop:!0,symmetric:!0}),INTEGRAL2:T(1,2,1,{largeop:!0,symmetric:!0}),BIN3:T(3,3,2),BIN4:T(4,4,2),BIN01:T(0,1,2),BIN5:T(5,5,2),TALLBIN:T(4,4,2,{stretchy:!0}),BINOP:T(4,4,2,{largeop:!0,movablelimits:!0}),REL:T(5,5,3),REL1:T(1,1,3,{stretchy:!0}),REL4:T(4,4,3),RELSTRETCH:T(5,5,3,{stretchy:!0}),RELACCENT:T(5,5,3,{accent:!0}),WIDEREL:T(5,5,3,{accent:!0,stretchy:!0}),OPEN:T(0,0,4,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:T(0,0,5,{fence:!0,stretchy:!0,symmetric:!0}),INNER:T(0,0,7),PUNCT:T(0,3,6),ACCENT:T(0,0,0,{accent:!0}),WIDEACCENT:T(0,0,0,{accent:!0,stretchy:!0})},f=[[32,127,3,"mo"],[160,191,0,"mo"],[192,591,0,"mi"],[688,879,0,"mo"],[880,6688,0,"mi"],[6832,6911,0,"mo"],[6912,7615,0,"mi"],[7616,7679,0,"mo"],[7680,8191,0,"mi"],[8192,8303,0,"mo"],[8304,8351,0,"mo"],[8448,8527,0,"mi"],[8528,8591,0,"mn"],[8592,8703,3,"mo"],[8704,8959,2,"mo"],[8960,9215,0,"mo"],[9312,9471,0,"mn"],[9472,10223,0,"mo"],[10224,10239,3,"mo"],[10240,10495,0,"mtext"],[10496,10623,3,"mo"],[10624,10751,0,"mo"],[10752,11007,2,"mo"],[11008,11055,0,"mo"],[11056,11087,3,"mo"],[11088,11263,0,"mo"],[11264,11744,0,"mi"],[11776,11903,0,"mo"],[11904,12255,0,"mi","normal"],[12272,12351,0,"mo"],[12352,42143,0,"mi","normal"],[42192,43055,0,"mi"],[43056,43071,0,"mn"],[43072,55295,0,"mi"],[63744,64255,0,"mi","normal"],[64256,65023,0,"mi"],[65024,65135,0,"mo"],[65136,65791,0,"mi"],[65792,65935,0,"mn"],[65936,74751,0,"mi","normal"],[74752,74879,0,"mn"],[74880,113823,0,"mi","normal"],[113824,119391,0,"mo"],[119648,119679,0,"mn"],[119808,120781,0,"mi"],[120782,120831,0,"mn"],[122624,129023,0,"mo"],[129024,129279,3,"mo"],[129280,129535,0,"mo"],[131072,195103,0,"mi","normal"]];function m(t){const e=A.infix[t]||A.prefix[t]||A.postfix[t];if(e)return[0,0,e[2],"mo"];const s=t.codePointAt(0);for(const t of f)if(s<=t[1]){if(s>=t[0])return t;break}return[0,0,3,"mo"]}const A={prefix:{"(":p.OPEN,"+":p.BIN01,"-":p.BIN01,"[":p.OPEN,"{":p.OPEN,"|":p.OPEN,"||":[0,0,2,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,0,{fence:!0,stretchy:!0,symmetric:!0}],"¬":p.ORD21,"±":p.BIN01,"‖":[0,0,0,{fence:!0,stretchy:!0}],"‘":[0,0,4,{fence:!0}],"“":[0,0,4,{fence:!0}],ⅅ:p.ORD21,ⅆ:T(2,0,0),"∀":p.ORD21,"∂":p.ORD21,"∃":p.ORD21,"∄":p.ORD21,"∇":p.ORD21,"∏":p.OP,"∐":p.OP,"∑":p.OP,"−":p.BIN01,"∓":p.BIN01,"√":[1,1,0,{stretchy:!0}],"∛":p.ORD11,"∜":p.ORD11,"∠":p.ORD,"∡":p.ORD,"∢":p.ORD,"∫":p.INTEGRAL,"∬":p.INTEGRAL,"∭":p.INTEGRAL,"∮":p.INTEGRAL,"∯":p.INTEGRAL,"∰":p.INTEGRAL,"∱":p.INTEGRAL,"∲":p.INTEGRAL,"∳":p.INTEGRAL,"⋀":p.OP,"⋁":p.OP,"⋂":p.OP,"⋃":p.OP,"⌈":p.OPEN,"⌊":p.OPEN,"〈":p.OPEN,"❲":p.OPEN,"⟦":p.OPEN,"⟨":p.OPEN,"⟪":p.OPEN,"⟬":p.OPEN,"⟮":p.OPEN,"⦀":[0,0,0,{fence:!0,stretchy:!0}],"⦃":p.OPEN,"⦅":p.OPEN,"⦇":p.OPEN,"⦉":p.OPEN,"⦋":p.OPEN,"⦍":p.OPEN,"⦏":p.OPEN,"⦑":p.OPEN,"⦓":p.OPEN,"⦕":p.OPEN,"⦗":p.OPEN,"⧼":p.OPEN,"⨀":p.OP,"⨁":p.OP,"⨂":p.OP,"⨃":p.OP,"⨄":p.OP,"⨅":p.OP,"⨆":p.OP,"⨇":p.OP,"⨈":p.OP,"⨉":p.OP,"⨊":p.OP,"⨋":p.INTEGRAL2,"⨌":p.INTEGRAL,"⨍":p.INTEGRAL2,"⨎":p.INTEGRAL2,"⨏":p.INTEGRAL2,"⨐":p.OP,"⨑":p.OP,"⨒":p.OP,"⨓":p.OP,"⨔":p.OP,"⨕":p.INTEGRAL2,"⨖":p.INTEGRAL2,"⨗":p.INTEGRAL2,"⨘":p.INTEGRAL2,"⨙":p.INTEGRAL2,"⨚":p.INTEGRAL2,"⨛":p.INTEGRAL2,"⨜":p.INTEGRAL2,"⫼":p.OP,"⫿":p.OP},postfix:{"!!":T(1,0),"!":[1,0,5,null],'"':p.ACCENT,"&":p.ORD,")":p.CLOSE,"++":T(0,0),"--":T(0,0),"..":T(0,0),"...":p.ORD,"'":p.ACCENT,"]":p.CLOSE,"^":p.WIDEACCENT,_:p.WIDEACCENT,"`":p.ACCENT,"|":p.CLOSE,"}":p.CLOSE,"~":p.WIDEACCENT,"||":[0,0,2,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,0,{fence:!0,stretchy:!0,symmetric:!0}],"¨":p.ACCENT,ª:p.ACCENT,"¯":p.WIDEACCENT,"°":p.ORD,"²":p.ACCENT,"³":p.ACCENT,"´":p.ACCENT,"¸":p.ACCENT,"¹":p.ACCENT,º:p.ACCENT,ˆ:p.WIDEACCENT,ˇ:p.WIDEACCENT,ˉ:p.WIDEACCENT,ˊ:p.ACCENT,ˋ:p.ACCENT,ˍ:p.WIDEACCENT,"˘":p.ACCENT,"˙":p.ACCENT,"˚":p.ACCENT,"˜":p.WIDEACCENT,"˝":p.ACCENT,"˷":p.WIDEACCENT,"̂":p.WIDEACCENT,"̑":p.ACCENT,"϶":p.REL,"‖":[0,0,0,{fence:!0,stretchy:!0}],"’":[0,0,5,{fence:!0}],"‚":p.ACCENT,"‛":p.ACCENT,"”":[0,0,5,{fence:!0}],"„":p.ACCENT,"‟":p.ACCENT,"′":p.ORD,"″":p.ORD,"‴":p.ORD,"‵":p.ORD,"‶":p.ORD,"‷":p.ORD,"‾":p.WIDEACCENT,"⁗":p.ORD,"⃛":p.ACCENT,"⃜":p.ACCENT,"⌉":p.CLOSE,"⌋":p.CLOSE,"〉":p.CLOSE,"⎴":p.WIDEACCENT,"⎵":p.WIDEACCENT,"⏜":p.WIDEACCENT,"⏝":p.WIDEACCENT,"⏞":p.WIDEACCENT,"⏟":p.WIDEACCENT,"⏠":p.WIDEACCENT,"⏡":p.WIDEACCENT,"■":p.BIN3,"□":p.BIN3,"▪":p.BIN3,"▫":p.BIN3,"▭":p.BIN3,"▮":p.BIN3,"▯":p.BIN3,"▰":p.BIN3,"▱":p.BIN3,"▲":p.BIN4,"▴":p.BIN4,"▶":p.BIN4,"▷":p.BIN4,"▸":p.BIN4,"▼":p.BIN4,"▾":p.BIN4,"◀":p.BIN4,"◁":p.BIN4,"◂":p.BIN4,"◄":p.BIN4,"◅":p.BIN4,"◆":p.BIN4,"◇":p.BIN4,"◈":p.BIN4,"◉":p.BIN4,"◌":p.BIN4,"◍":p.BIN4,"◎":p.BIN4,"●":p.BIN4,"◖":p.BIN4,"◗":p.BIN4,"◦":p.BIN4,"♭":p.ORD02,"♮":p.ORD02,"♯":p.ORD02,"❳":p.CLOSE,"⟧":p.CLOSE,"⟩":p.CLOSE,"⟫":p.CLOSE,"⟭":p.CLOSE,"⟯":p.CLOSE,"⦀":[0,0,0,{fence:!0,stretchy:!0}],"⦄":p.CLOSE,"⦆":p.CLOSE,"⦈":p.CLOSE,"⦊":p.CLOSE,"⦌":p.CLOSE,"⦎":p.CLOSE,"⦐":p.CLOSE,"⦒":p.CLOSE,"⦔":p.CLOSE,"⦖":p.CLOSE,"⦘":p.CLOSE,"⧽":p.CLOSE},infix:{"!=":p.BIN4,"#":p.ORD,$:p.ORD,"%":[3,3,0,null],"&&":p.BIN4,"":p.ORD,"*":p.BIN3,"**":T(1,1),"*=":p.BIN4,"+":p.BIN4,"+=":p.BIN4,",":[0,3,6,{linebreakstyle:"after",separator:!0}],"-":p.BIN4,"-=":p.BIN4,"->":p.BIN5,".":[0,3,6,{linebreakstyle:"after",separator:!0}],"/":p.ORD11,"//":T(1,1),"/=":p.BIN4,":":[1,2,3,null],":=":p.BIN4,";":[0,3,6,{linebreakstyle:"after",separator:!0}],"<":p.REL,"<=":p.BIN5,"<>":T(1,1),"=":p.REL,"==":p.BIN4,">":p.REL,">=":p.BIN5,"?":[1,1,5,null],"@":p.ORD11,"\\":p.ORD,"^":p.ORD11,_:p.ORD11,"|":[2,2,0,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,2,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,0,{fence:!0,stretchy:!0,symmetric:!0}],"±":p.BIN4,"·":p.BIN4,"×":p.BIN4,"÷":p.BIN4,ʹ:p.ORD,"̀":p.ACCENT,"́":p.ACCENT,"̃":p.WIDEACCENT,"̄":p.ACCENT,"̆":p.ACCENT,"̇":p.ACCENT,"̈":p.ACCENT,"̌":p.ACCENT,"̲":p.WIDEACCENT,"̸":p.REL4,"―":[0,0,0,{stretchy:!0}],"‗":[0,0,0,{stretchy:!0}],"†":p.BIN3,"‡":p.BIN3,"•":p.BIN4,"…":p.INNER,"⁃":p.BIN4,"⁄":p.TALLBIN,"⁡":p.NONE,"⁢":p.NONE,"⁣":[0,0,R,{linebreakstyle:"after",separator:!0}],"⁤":p.NONE,"⃗":p.ACCENT,ℑ:p.ORD,ℓ:p.ORD,℘:p.ORD,ℜ:p.ORD,"←":p.WIDEREL,"↑":p.RELSTRETCH,"→":p.WIDEREL,"↓":p.RELSTRETCH,"↔":p.WIDEREL,"↕":p.RELSTRETCH,"↖":p.RELSTRETCH,"↗":p.RELSTRETCH,"↘":p.RELSTRETCH,"↙":p.RELSTRETCH,"↚":p.RELACCENT,"↛":p.RELACCENT,"↜":p.WIDEREL,"↝":p.WIDEREL,"↞":p.WIDEREL,"↟":p.WIDEREL,"↠":p.WIDEREL,"↡":p.RELSTRETCH,"↢":p.WIDEREL,"↣":p.WIDEREL,"↤":p.WIDEREL,"↥":p.RELSTRETCH,"↦":p.WIDEREL,"↧":p.RELSTRETCH,"↨":p.RELSTRETCH,"↩":p.WIDEREL,"↪":p.WIDEREL,"↫":p.WIDEREL,"↬":p.WIDEREL,"↭":p.WIDEREL,"↮":p.RELACCENT,"↯":p.RELSTRETCH,"↰":p.RELSTRETCH,"↱":p.RELSTRETCH,"↲":p.RELSTRETCH,"↳":p.RELSTRETCH,"↴":p.RELSTRETCH,"↵":p.RELSTRETCH,"↶":p.RELACCENT,"↷":p.RELACCENT,"↸":p.REL,"↹":p.WIDEREL,"↺":p.REL,"↻":p.REL,"↼":p.WIDEREL,"↽":p.WIDEREL,"↾":p.RELSTRETCH,"↿":p.RELSTRETCH,"⇀":p.WIDEREL,"⇁":p.WIDEREL,"⇂":p.RELSTRETCH,"⇃":p.RELSTRETCH,"⇄":p.WIDEREL,"⇅":p.RELSTRETCH,"⇆":p.WIDEREL,"⇇":p.WIDEREL,"⇈":p.RELSTRETCH,"⇉":p.WIDEREL,"⇊":p.RELSTRETCH,"⇋":p.WIDEREL,"⇌":p.WIDEREL,"⇍":p.RELACCENT,"⇎":p.RELACCENT,"⇏":p.RELACCENT,"⇐":p.WIDEREL,"⇑":p.RELSTRETCH,"⇒":p.WIDEREL,"⇓":p.RELSTRETCH,"⇔":p.WIDEREL,"⇕":p.RELSTRETCH,"⇖":p.RELSTRETCH,"⇗":p.RELSTRETCH,"⇘":p.RELSTRETCH,"⇙":p.RELSTRETCH,"⇚":p.WIDEREL,"⇛":p.WIDEREL,"⇜":p.WIDEREL,"⇝":p.WIDEREL,"⇞":p.REL,"⇟":p.REL,"⇠":p.WIDEREL,"⇡":p.RELSTRETCH,"⇢":p.WIDEREL,"⇣":p.RELSTRETCH,"⇤":p.WIDEREL,"⇥":p.WIDEREL,"⇦":p.WIDEREL,"⇧":p.RELSTRETCH,"⇨":p.WIDEREL,"⇩":p.RELSTRETCH,"⇪":p.RELSTRETCH,"⇫":p.RELSTRETCH,"⇬":p.RELSTRETCH,"⇭":p.RELSTRETCH,"⇮":p.RELSTRETCH,"⇯":p.RELSTRETCH,"⇰":p.WIDEREL,"⇱":p.REL,"⇲":p.REL,"⇳":p.RELSTRETCH,"⇴":p.RELACCENT,"⇵":p.RELSTRETCH,"⇶":p.WIDEREL,"⇷":p.RELACCENT,"⇸":p.RELACCENT,"⇹":p.RELACCENT,"⇺":p.RELACCENT,"⇻":p.RELACCENT,"⇼":p.RELACCENT,"⇽":p.WIDEREL,"⇾":p.WIDEREL,"⇿":p.WIDEREL,"∁":T(1,2,0),"∅":p.ORD,"∆":p.BIN3,"∈":p.REL,"∉":p.REL,"∊":p.REL,"∋":p.REL,"∌":p.REL,"∍":p.REL,"∎":p.BIN3,"−":p.BIN4,"∓":p.BIN4,"∔":p.BIN4,"∕":p.TALLBIN,"∖":p.BIN4,"∗":p.BIN4,"∘":p.BIN4,"∙":p.BIN4,"∝":p.REL,"∞":p.ORD,"∟":p.REL,"∣":p.REL,"∤":p.REL,"∥":p.REL,"∦":p.REL,"∧":p.BIN4,"∨":p.BIN4,"∩":p.BIN4,"∪":p.BIN4,"∴":p.REL,"∵":p.REL,"∶":p.REL,"∷":p.REL,"∸":p.BIN4,"∹":p.REL,"∺":p.BIN4,"∻":p.REL,"∼":p.REL,"∽":p.REL,"∽̱":p.BIN3,"∾":p.REL,"∿":p.BIN3,"≀":p.BIN4,"≁":p.REL,"≂":p.REL,"≂̸":p.REL,"≃":p.REL,"≄":p.REL,"≅":p.REL,"≆":p.REL,"≇":p.REL,"≈":p.REL,"≉":p.REL,"≊":p.REL,"≋":p.REL,"≌":p.REL,"≍":p.REL,"≎":p.REL,"≎̸":p.REL,"≏":p.REL,"≏̸":p.REL,"≐":p.REL,"≑":p.REL,"≒":p.REL,"≓":p.REL,"≔":p.REL,"≕":p.REL,"≖":p.REL,"≗":p.REL,"≘":p.REL,"≙":p.REL,"≚":p.REL,"≛":p.REL,"≜":p.REL,"≝":p.REL,"≞":p.REL,"≟":p.REL,"≠":p.REL,"≡":p.REL,"≢":p.REL,"≣":p.REL,"≤":p.REL,"≥":p.REL,"≦":p.REL,"≦̸":p.REL,"≧":p.REL,"≨":p.REL,"≩":p.REL,"≪":p.REL,"≪̸":p.REL,"≫":p.REL,"≫̸":p.REL,"≬":p.REL,"≭":p.REL,"≮":p.REL,"≯":p.REL,"≰":p.REL,"≱":p.REL,"≲":p.REL,"≳":p.REL,"≴":p.REL,"≵":p.REL,"≶":p.REL,"≷":p.REL,"≸":p.REL,"≹":p.REL,"≺":p.REL,"≻":p.REL,"≼":p.REL,"≽":p.REL,"≾":p.REL,"≿":p.REL,"≿̸":p.REL,"⊀":p.REL,"⊁":p.REL,"⊂":p.REL,"⊂⃒":p.REL,"⊃":p.REL,"⊃⃒":p.REL,"⊄":p.REL,"⊅":p.REL,"⊆":p.REL,"⊇":p.REL,"⊈":p.REL,"⊉":p.REL,"⊊":p.REL,"⊋":p.REL,"⊌":p.BIN4,"⊍":p.BIN4,"⊎":p.BIN4,"⊏":p.REL,"⊏̸":p.REL,"⊐":p.REL,"⊐̸":p.REL,"⊑":p.REL,"⊒":p.REL,"⊓":p.BIN4,"⊔":p.BIN4,"⊕":p.BIN4,"⊖":p.BIN4,"⊗":p.BIN4,"⊘":p.BIN4,"⊙":p.BIN4,"⊚":p.BIN4,"⊛":p.BIN4,"⊜":p.BIN4,"⊝":p.BIN4,"⊞":p.BIN4,"⊟":p.BIN4,"⊠":p.BIN4,"⊡":p.BIN4,"⊢":p.REL,"⊣":p.REL,"⊤":p.ORD55,"⊥":p.REL,"⊦":p.REL,"⊧":p.REL,"⊨":p.REL,"⊩":p.REL,"⊪":p.REL,"⊫":p.REL,"⊬":p.REL,"⊭":p.REL,"⊮":p.REL,"⊯":p.REL,"⊰":p.REL,"⊱":p.REL,"⊲":p.REL,"⊳":p.REL,"⊴":p.REL,"⊵":p.REL,"⊶":p.REL,"⊷":p.REL,"⊸":p.REL,"⊹":p.REL,"⊺":p.BIN4,"⊻":p.BIN4,"⊼":p.BIN4,"⊽":p.BIN4,"⊾":p.BIN3,"⊿":p.BIN3,"⋄":p.BIN4,"⋅":p.BIN4,"⋆":p.BIN4,"⋇":p.BIN4,"⋈":p.REL,"⋉":p.BIN4,"⋊":p.BIN4,"⋋":p.BIN4,"⋌":p.BIN4,"⋍":p.REL,"⋎":p.BIN4,"⋏":p.BIN4,"⋐":p.REL,"⋑":p.REL,"⋒":p.BIN4,"⋓":p.BIN4,"⋔":p.REL,"⋕":p.REL,"⋖":p.REL,"⋗":p.REL,"⋘":p.REL,"⋙":p.REL,"⋚":p.REL,"⋛":p.REL,"⋜":p.REL,"⋝":p.REL,"⋞":p.REL,"⋟":p.REL,"⋠":p.REL,"⋡":p.REL,"⋢":p.REL,"⋣":p.REL,"⋤":p.REL,"⋥":p.REL,"⋦":p.REL,"⋧":p.REL,"⋨":p.REL,"⋩":p.REL,"⋪":p.REL,"⋫":p.REL,"⋬":p.REL,"⋭":p.REL,"⋮":p.ORD55,"⋯":p.INNER,"⋰":p.REL,"⋱":[5,5,7,null],"⋲":p.REL,"⋳":p.REL,"⋴":p.REL,"⋵":p.REL,"⋶":p.REL,"⋷":p.REL,"⋸":p.REL,"⋹":p.REL,"⋺":p.REL,"⋻":p.REL,"⋼":p.REL,"⋽":p.REL,"⋾":p.REL,"⋿":p.REL,"⌅":p.BIN3,"⌆":p.BIN3,"⌢":p.REL4,"⌣":p.REL4,"〈":p.OPEN,"〉":p.CLOSE,"⎪":p.ORD,"⎯":[0,0,0,{stretchy:!0}],"⎰":p.OPEN,"⎱":p.CLOSE,"─":p.ORD,"△":p.BIN4,"▵":p.BIN4,"▹":p.BIN4,"▽":p.BIN4,"▿":p.BIN4,"◃":p.BIN4,"◯":p.BIN3,"♠":p.ORD,"♡":p.ORD,"♢":p.ORD,"♣":p.ORD,"❘":p.REL,"⟰":p.RELSTRETCH,"⟱":p.RELSTRETCH,"⟵":p.WIDEREL,"⟶":p.WIDEREL,"⟷":p.WIDEREL,"⟸":p.WIDEREL,"⟹":p.WIDEREL,"⟺":p.WIDEREL,"⟻":p.WIDEREL,"⟼":p.WIDEREL,"⟽":p.WIDEREL,"⟾":p.WIDEREL,"⟿":p.WIDEREL,"⤀":p.RELACCENT,"⤁":p.RELACCENT,"⤂":p.RELACCENT,"⤃":p.RELACCENT,"⤄":p.RELACCENT,"⤅":p.RELACCENT,"⤆":p.RELACCENT,"⤇":p.RELACCENT,"⤈":p.REL,"⤉":p.REL,"⤊":p.RELSTRETCH,"⤋":p.RELSTRETCH,"⤌":p.WIDEREL,"⤍":p.WIDEREL,"⤎":p.WIDEREL,"⤏":p.WIDEREL,"⤐":p.WIDEREL,"⤑":p.RELACCENT,"⤒":p.RELSTRETCH,"⤓":p.RELSTRETCH,"⤔":p.RELACCENT,"⤕":p.RELACCENT,"⤖":p.RELACCENT,"⤗":p.RELACCENT,"⤘":p.RELACCENT,"⤙":p.RELACCENT,"⤚":p.RELACCENT,"⤛":p.RELACCENT,"⤜":p.RELACCENT,"⤝":p.RELACCENT,"⤞":p.RELACCENT,"⤟":p.RELACCENT,"⤠":p.RELACCENT,"⤡":p.RELSTRETCH,"⤢":p.RELSTRETCH,"⤣":p.REL,"⤤":p.REL,"⤥":p.REL,"⤦":p.REL,"⤧":p.REL,"⤨":p.REL,"⤩":p.REL,"⤪":p.REL,"⤫":p.REL,"⤬":p.REL,"⤭":p.REL,"⤮":p.REL,"⤯":p.REL,"⤰":p.REL,"⤱":p.REL,"⤲":p.REL,"⤳":p.RELACCENT,"⤴":p.REL,"⤵":p.REL,"⤶":p.REL,"⤷":p.REL,"⤸":p.REL,"⤹":p.REL,"⤺":p.RELACCENT,"⤻":p.RELACCENT,"⤼":p.RELACCENT,"⤽":p.RELACCENT,"⤾":p.REL,"⤿":p.REL,"⥀":p.REL,"⥁":p.REL,"⥂":p.RELACCENT,"⥃":p.RELACCENT,"⥄":p.RELACCENT,"⥅":p.RELACCENT,"⥆":p.RELACCENT,"⥇":p.RELACCENT,"⥈":p.RELACCENT,"⥉":p.REL,"⥊":p.RELACCENT,"⥋":p.RELACCENT,"⥌":p.REL,"⥍":p.REL,"⥎":p.WIDEREL,"⥏":p.RELSTRETCH,"⥐":p.WIDEREL,"⥑":p.RELSTRETCH,"⥒":p.WIDEREL,"⥓":p.WIDEREL,"⥔":p.RELSTRETCH,"⥕":p.RELSTRETCH,"⥖":p.RELSTRETCH,"⥗":p.RELSTRETCH,"⥘":p.RELSTRETCH,"⥙":p.RELSTRETCH,"⥚":p.WIDEREL,"⥛":p.WIDEREL,"⥜":p.RELSTRETCH,"⥝":p.RELSTRETCH,"⥞":p.WIDEREL,"⥟":p.WIDEREL,"⥠":p.RELSTRETCH,"⥡":p.RELSTRETCH,"⥢":p.RELACCENT,"⥣":p.REL,"⥤":p.RELACCENT,"⥥":p.REL,"⥦":p.RELACCENT,"⥧":p.RELACCENT,"⥨":p.RELACCENT,"⥩":p.RELACCENT,"⥪":p.RELACCENT,"⥫":p.RELACCENT,"⥬":p.RELACCENT,"⥭":p.RELACCENT,"⥮":p.RELSTRETCH,"⥯":p.RELSTRETCH,"⥰":p.RELACCENT,"⥱":p.RELACCENT,"⥲":p.RELACCENT,"⥳":p.RELACCENT,"⥴":p.RELACCENT,"⥵":p.RELACCENT,"⥶":p.RELACCENT,"⥷":p.RELACCENT,"⥸":p.RELACCENT,"⥹":p.RELACCENT,"⥺":p.RELACCENT,"⥻":p.RELACCENT,"⥼":p.RELACCENT,"⥽":p.RELACCENT,"⥾":p.REL,"⥿":p.REL,"⦁":p.BIN3,"⦂":p.BIN3,"⦙":p.BIN3,"⦚":p.BIN3,"⦛":p.BIN3,"⦜":p.BIN3,"⦝":p.BIN3,"⦞":p.BIN3,"⦟":p.BIN3,"⦠":p.BIN3,"⦡":p.BIN3,"⦢":p.BIN3,"⦣":p.BIN3,"⦤":p.BIN3,"⦥":p.BIN3,"⦦":p.BIN3,"⦧":p.BIN3,"⦨":p.BIN3,"⦩":p.BIN3,"⦪":p.BIN3,"⦫":p.BIN3,"⦬":p.BIN3,"⦭":p.BIN3,"⦮":p.BIN3,"⦯":p.BIN3,"⦰":p.BIN3,"⦱":p.BIN3,"⦲":p.BIN3,"⦳":p.BIN3,"⦴":p.BIN3,"⦵":p.BIN3,"⦶":p.BIN4,"⦷":p.BIN4,"⦸":p.BIN4,"⦹":p.BIN4,"⦺":p.BIN4,"⦻":p.BIN4,"⦼":p.BIN4,"⦽":p.BIN4,"⦾":p.BIN4,"⦿":p.BIN4,"⧀":p.REL,"⧁":p.REL,"⧂":p.BIN3,"⧃":p.BIN3,"⧄":p.BIN4,"⧅":p.BIN4,"⧆":p.BIN4,"⧇":p.BIN4,"⧈":p.BIN4,"⧉":p.BIN3,"⧊":p.BIN3,"⧋":p.BIN3,"⧌":p.BIN3,"⧍":p.BIN3,"⧎":p.REL,"⧏":p.REL,"⧏̸":p.REL,"⧐":p.REL,"⧐̸":p.REL,"⧑":p.REL,"⧒":p.REL,"⧓":p.REL,"⧔":p.REL,"⧕":p.REL,"⧖":p.BIN4,"⧗":p.BIN4,"⧘":p.BIN3,"⧙":p.BIN3,"⧛":p.BIN3,"⧜":p.BIN3,"⧝":p.BIN3,"⧞":p.REL,"⧟":p.BIN3,"⧠":p.BIN3,"⧡":p.REL,"⧢":p.BIN4,"⧣":p.REL,"⧤":p.REL,"⧥":p.REL,"⧦":p.REL,"⧧":p.BIN3,"⧨":p.BIN3,"⧩":p.BIN3,"⧪":p.BIN3,"⧫":p.BIN3,"⧬":p.BIN3,"⧭":p.BIN3,"⧮":p.BIN3,"⧯":p.BIN3,"⧰":p.BIN3,"⧱":p.BIN3,"⧲":p.BIN3,"⧳":p.BIN3,"⧴":p.REL,"⧵":p.BIN4,"⧶":p.BIN4,"⧷":p.BIN4,"⧸":p.BIN3,"⧹":p.BIN3,"⧺":p.BIN3,"⧻":p.BIN3,"⧾":p.BIN4,"⧿":p.BIN4,"⨝":p.BIN3,"⨞":p.BIN3,"⨟":p.BIN3,"⨠":p.BIN3,"⨡":p.BIN3,"⨢":p.BIN4,"⨣":p.BIN4,"⨤":p.BIN4,"⨥":p.BIN4,"⨦":p.BIN4,"⨧":p.BIN4,"⨨":p.BIN4,"⨩":p.BIN4,"⨪":p.BIN4,"⨫":p.BIN4,"⨬":p.BIN4,"⨭":p.BIN4,"⨮":p.BIN4,"⨯":p.BIN4,"⨰":p.BIN4,"⨱":p.BIN4,"⨲":p.BIN4,"⨳":p.BIN4,"⨴":p.BIN4,"⨵":p.BIN4,"⨶":p.BIN4,"⨷":p.BIN4,"⨸":p.BIN4,"⨹":p.BIN4,"⨺":p.BIN4,"⨻":p.BIN4,"⨼":p.BIN4,"⨽":p.BIN4,"⨾":p.BIN4,"⨿":p.BIN4,"⩀":p.BIN4,"⩁":p.BIN4,"⩂":p.BIN4,"⩃":p.BIN4,"⩄":p.BIN4,"⩅":p.BIN4,"⩆":p.BIN4,"⩇":p.BIN4,"⩈":p.BIN4,"⩉":p.BIN4,"⩊":p.BIN4,"⩋":p.BIN4,"⩌":p.BIN4,"⩍":p.BIN4,"⩎":p.BIN4,"⩏":p.BIN4,"⩐":p.BIN4,"⩑":p.BIN4,"⩒":p.BIN4,"⩓":p.BIN4,"⩔":p.BIN4,"⩕":p.BIN4,"⩖":p.BIN4,"⩗":p.BIN4,"⩘":p.BIN4,"⩙":p.REL,"⩚":p.BIN4,"⩛":p.BIN4,"⩜":p.BIN4,"⩝":p.BIN4,"⩞":p.BIN4,"⩟":p.BIN4,"⩠":p.BIN4,"⩡":p.BIN4,"⩢":p.BIN4,"⩣":p.BIN4,"⩤":p.BIN4,"⩥":p.BIN4,"⩦":p.REL,"⩧":p.REL,"⩨":p.REL,"⩩":p.REL,"⩪":p.REL,"⩫":p.REL,"⩬":p.REL,"⩭":p.REL,"⩮":p.REL,"⩯":p.REL,"⩰":p.REL,"⩱":p.BIN4,"⩲":p.BIN4,"⩳":p.REL,"⩴":p.REL,"⩵":p.REL,"⩶":p.REL,"⩷":p.REL,"⩸":p.REL,"⩹":p.REL,"⩺":p.REL,"⩻":p.REL,"⩼":p.REL,"⩽":p.REL,"⩽̸":p.REL,"⩾":p.REL,"⩾̸":p.REL,"⩿":p.REL,"⪀":p.REL,"⪁":p.REL,"⪂":p.REL,"⪃":p.REL,"⪄":p.REL,"⪅":p.REL,"⪆":p.REL,"⪇":p.REL,"⪈":p.REL,"⪉":p.REL,"⪊":p.REL,"⪋":p.REL,"⪌":p.REL,"⪍":p.REL,"⪎":p.REL,"⪏":p.REL,"⪐":p.REL,"⪑":p.REL,"⪒":p.REL,"⪓":p.REL,"⪔":p.REL,"⪕":p.REL,"⪖":p.REL,"⪗":p.REL,"⪘":p.REL,"⪙":p.REL,"⪚":p.REL,"⪛":p.REL,"⪜":p.REL,"⪝":p.REL,"⪞":p.REL,"⪟":p.REL,"⪠":p.REL,"⪡":p.REL,"⪡̸":p.REL,"⪢":p.REL,"⪢̸":p.REL,"⪣":p.REL,"⪤":p.REL,"⪥":p.REL,"⪦":p.REL,"⪧":p.REL,"⪨":p.REL,"⪩":p.REL,"⪪":p.REL,"⪫":p.REL,"⪬":p.REL,"⪭":p.REL,"⪮":p.REL,"⪯":p.REL,"⪯̸":p.REL,"⪰":p.REL,"⪰̸":p.REL,"⪱":p.REL,"⪲":p.REL,"⪳":p.REL,"⪴":p.REL,"⪵":p.REL,"⪶":p.REL,"⪷":p.REL,"⪸":p.REL,"⪹":p.REL,"⪺":p.REL,"⪻":p.REL,"⪼":p.REL,"⪽":p.REL,"⪾":p.REL,"⪿":p.REL,"⫀":p.REL,"⫁":p.REL,"⫂":p.REL,"⫃":p.REL,"⫄":p.REL,"⫅":p.REL,"⫆":p.REL,"⫇":p.REL,"⫈":p.REL,"⫉":p.REL,"⫊":p.REL,"⫋":p.REL,"⫌":p.REL,"⫍":p.REL,"⫎":p.REL,"⫏":p.REL,"⫐":p.REL,"⫑":p.REL,"⫒":p.REL,"⫓":p.REL,"⫔":p.REL,"⫕":p.REL,"⫖":p.REL,"⫗":p.REL,"⫘":p.REL,"⫙":p.REL,"⫚":p.REL,"⫛":p.REL,"⫝":p.REL,"⫝̸":p.REL,"⫞":p.REL,"⫟":p.REL,"⫠":p.REL,"⫡":p.REL,"⫢":p.REL,"⫣":p.REL,"⫤":p.REL,"⫥":p.REL,"⫦":p.REL,"⫧":p.REL,"⫨":p.REL,"⫩":p.REL,"⫪":p.REL,"⫫":p.REL,"⫬":p.REL,"⫭":p.REL,"⫮":p.REL,"⫯":p.REL,"⫰":p.REL,"⫱":p.REL,"⫲":p.REL,"⫳":p.REL,"⫴":p.BIN4,"⫵":p.BIN4,"⫶":p.BIN4,"⫷":p.REL,"⫸":p.REL,"⫹":p.REL,"⫺":p.REL,"⫻":p.BIN4,"⫽":p.BIN4,"⫾":p.BIN3,"⭅":p.RELSTRETCH,"⭆":p.RELSTRETCH,"〈":p.OPEN,"〉":p.CLOSE,"︷":p.WIDEACCENT,"︸":p.WIDEACCENT}};A.infix["^"]=p.WIDEREL,A.infix._=p.WIDEREL,A.infix["⫝̸"]=p.REL;class B extends I{constructor(){super(...arguments),this._texClass=null,this.lspace=5/18,this.rspace=5/18}get texClass(){return null===this._texClass?this.getOperatorDef(this.getText())[2]:this._texClass}set texClass(t){this._texClass=t}get kind(){return"mo"}get isEmbellished(){return!0}coreParent(){let t=this,e=this,s=this.factory.getNodeClass("math");for(;e&&e.isEmbellished&&e.coreMO()===this&&!(e instanceof s);)t=e,e=e.parent;return t}coreText(t){if(!t)return"";if(t.isEmbellished)return t.coreMO().getText();for(;((t.isKind("mrow")||t.isKind("TeXAtom")||t.isKind("mstyle")||t.isKind("mphantom"))&&1===t.childNodes.length||t.isKind("munderover"))&&t.childNodes[0];)t=t.childNodes[0];return t.isToken?t.getText():""}hasSpacingAttributes(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")}get isAccent(){let t=!1;const e=this.coreParent().parent;if(e){const s=e.isKind("mover")?e.childNodes[e.over].coreMO()?"accent":"":e.isKind("munder")?e.childNodes[e.under].coreMO()?"accentunder":"":e.isKind("munderover")?this===e.childNodes[e.over].coreMO()?"accent":this===e.childNodes[e.under].coreMO()?"accentunder":"":"";s&&(t=void 0!==e.attributes.getExplicit(s)?t:this.attributes.get("accent"))}return t}setTeXclass(t){let{form:e,fence:s}=this.attributes.getList("form","fence");return void 0===this.getProperty("texClass")&&this.hasSpacingAttributes()?null:(s&&3===this.texClass&&("prefix"===e&&(this.texClass=4),"postfix"===e&&(this.texClass=5)),this.adjustTeXclass(t))}adjustTeXclass(t){let e=this.texClass,s=this.prevClass;if(e===R)return t;if(t?(!t.getProperty("autoOP")||2!==e&&3!==e||(s=t.texClass=0),s=this.prevClass=t.texClass||0,this.prevLevel=this.attributes.getInherited("scriptlevel")):s=this.prevClass=R,2!==e||s!==R&&2!==s&&1!==s&&3!==s&&4!==s&&6!==s)if(2!==s||3!==e&&5!==e&&6!==e){if(2===e){let t=this,e=this.parent;for(;e&&e.parent&&e.isEmbellished&&(1===e.childNodes.length||!e.isKind("mrow")&&e.core()===t);)t=e,e=e.parent;e.childNodes[e.childNodes.length-1]===t&&(this.texClass=0)}}else t.texClass=this.prevClass=0;else this.texClass=0;return this}setInheritedAttributes(t={},e=!1,s=0,i=!1){super.setInheritedAttributes(t,e,s,i);let r=this.getText();this.checkOperatorTable(r),this.checkPseudoScripts(r),this.checkPrimes(r),this.checkMathAccent(r)}getOperatorDef(t){const[e,s,i]=this.handleExplicitForm(this.getForms());this.attributes.setInherited("form",e);const r=this.constructor,n=r.OPTABLE,a=n[e][t]||n[s][t]||n[i][t];if(a)return a;const o=this.attributes.get("movablelimits");if((t.match(r.opPattern)||o)&&void 0===this.getProperty("texClass"))return T(1,2,1);const E=m(t),[h,l]=r.MMLSPACING[E[2]];return T(h,l,E[2])}checkOperatorTable(t){const e=this.getOperatorDef(t);void 0===this.getProperty("texClass")&&(this.texClass=e[2]);for(const t of Object.keys(e[3]||{}))this.attributes.setInherited(t,e[3][t]);this.lspace=(e[0]+1)/18,this.rspace=(e[1]+1)/18}getForms(){let t=this,e=this.parent,s=this.Parent;for(;s&&s.isEmbellished;)t=e,e=s.parent,s=s.Parent;if(e&&e.isKind("mrow")&&1!==e.nonSpaceLength()){if(e.firstNonSpace()===t)return["prefix","infix","postfix"];if(e.lastNonSpace()===t)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]}handleExplicitForm(t){if(this.attributes.isSet("form")){const e=this.attributes.get("form");t=[e].concat(t.filter(t=>t!==e))}return t}checkPseudoScripts(t){const e=this.constructor.pseudoScripts;if(!t.match(e))return;const s=this.coreParent().Parent,i=!s||!(s.isKind("msubsup")&&!s.isKind("msub"));this.setProperty("pseudoscript",i),i&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}checkPrimes(t){const e=this.constructor.primes;if(!t.match(e))return;const s=this.constructor.remapPrimes,i=(r=(n=t,Array.from(n).map(t=>t.codePointAt(0))).map(t=>s[t]),String.fromCodePoint(...r));var r,n;this.setProperty("primes",i)}checkMathAccent(t){const e=this.Parent;if(void 0!==this.getProperty("mathaccent")||!e||!e.isKind("munderover"))return;const[s,i,r]=e.childNodes;if(s.isEmbellished&&s.coreMO()===this)return;const n=!(!i||!i.isEmbellished||i.coreMO()!==this),a=!(!r||!r.isEmbellished||i.coreMO()!==this);(n||a)&&(this.isMathAccent(t)?this.setProperty("mathaccent",!0):this.isMathAccentWithWidth(t)&&this.setProperty("mathaccent",!1))}isMathAccent(t=this.getText()){const e=this.constructor.mathaccents;return!!t.match(e)}isMathAccentWithWidth(t=this.getText()){const e=this.constructor.mathaccentsWithWidth;return!!t.match(e)}}var b;B.defaults=Object.assign(Object.assign({},I.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"100%",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),B.MMLSPACING=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],B.OPTABLE=A,B.pseudoScripts=new RegExp(["^[\"'*`","ª","°","²-´","¹","º","‘-‟","′-‷⁗","⁰ⁱ","⁴-ⁿ","₀-₎","]+$"].join("")),B.primes=new RegExp(["^[\"'","‘-‟","]+$"].join("")),B.opPattern=/^[a-zA-Z]{2,}$/,B.remapPrimes={34:8243,39:8242,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},B.mathaccents=new RegExp(["^[","´́ˊ","`̀ˋ","¨̈","~̃˜","¯̄ˉ","˘̆","ˇ̌","^̂ˆ","⃐⃑","⃖⃗⃡","˙̇","˚̊","⃛","⃜","]$"].join("")),B.mathaccentsWithWidth=new RegExp(["^[","―","←→↔","⏜⏝","⏞⏟","]$"].join("")),function(t){const e=new Map([["autoOP",!0],["fnOP",!0],["movesupsub",!0],["subsupOK",!0],["texprimestyle",!0],["useHeight",!0],["variantForm",!0],["withDelims",!0],["mathaccent",!0],["open",!0],["close",!0]]);function s(t,s){for(const i of Object.keys(s)){let r=s[i];"texClass"===i?(t.texClass=r,t.setProperty(i,r)):"movablelimits"===i?(t.setProperty("movablelimits",r),(t.isKind("mo")||t.isKind("mstyle"))&&t.attributes.set("movablelimits",r)):"inferred"===i||(e.has(i)?t.setProperty(i,r):t.attributes.set(i,r))}}function i(t,e,s){t.childNodes[e]=s,s&&(s.parent=t)}function r(t,e){return t.isKind(e)}t.createEntity=function(t){return String.fromCodePoint(parseInt(t,16))},t.getChildren=function(t){return t.childNodes},t.getText=function(t){return t.getText()},t.appendChildren=function(t,e){for(let s of e)t.appendChild(s)},t.setAttribute=function(t,e,s){t.attributes.set(e,s)},t.setProperty=function(t,e,s){t.setProperty(e,s)},t.setProperties=s,t.getProperty=function(t,e){return t.getProperty(e)},t.getAttribute=function(t,e){return t.attributes.get(e)},t.removeAttribute=function(t,e){t.attributes.unset(e)},t.removeProperties=function(t,...e){t.removeProperty(...e)},t.getChildAt=function(t,e){return t.childNodes[e]},t.setChild=i,t.copyChildren=function(t,e){let s=t.childNodes;for(let t=0;t<s.length;t++)i(e,t,s[t])},t.copyAttributes=function(t,e){e.attributes=t.attributes,s(e,t.getAllProperties())},t.isType=r,t.isEmbellished=function(t){return t.isEmbellished},t.getTexClass=function(t){return t.texClass},t.getCoreMO=function(t){return t.coreMO()},t.isNode=function(t){return t instanceof N||t instanceof g},t.isInferred=function(t){return t.isInferred},t.getForm=function(t){if(!r(t,"mo"))return null;let e=t,s=e.getForms();for(let t of s){let s=this.getOp(e,t);if(s)return s}return null},t.getOp=function(t,e="infix"){return B.OPTABLE[e][t.getText()]||null}}(b||(b={}));const O=b;class S{constructor(t,e,s){this._factory=t,this._env=e,this.global={},this.stack=[],this.global={isInner:s},this.stack=[this._factory.create("start",this.global)],e&&(this.stack[0].env=e),this.env=this.stack[0].env}set env(t){this._env=t}get env(){return this._env}Push(...t){for(const e of t){if(!e)continue;const t=O.isNode(e)?this._factory.create("mml",e):e;t.global=this.global;const[s,i]=this.stack.length?this.Top().checkItem(t):[null,!0];i&&(s?(this.Pop(),this.Push(...s)):(t.isKind("null")||this.stack.push(t),t.env?(t.copyEnv&&Object.assign(t.env,this.env),this.env=t.env):t.env=this.env))}}Pop(){const t=this.stack.pop();return t.isOpen||delete t.env,this.env=this.stack.length?this.Top().env:{},t}Top(t=1){return this.stack.length<t?null:this.stack[this.stack.length-t]}Prev(t){const e=this.Top();return t?e.First:e.Pop()}get height(){return this.stack.length}toString(){return"stack[\n  "+this.stack.join("\n  ")+"\n]"}}class D{static processString(t,e){let s=t.split(D.pattern);for(let t=1,i=s.length;t<i;t+=2){let i=s[t].charAt(0);i>="0"&&i<="9"?(s[t]=e[parseInt(s[t],10)-1],"number"==typeof s[t]&&(s[t]=s[t].toString())):"{"===i&&(i=s[t].substring(1),i>="0"&&i<="9"?(s[t]=e[parseInt(s[t].substring(1,s[t].length-1),10)-1],"number"==typeof s[t]&&(s[t]=s[t].toString())):s[t].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(s[t]="%"+s[t])),null==s[t]&&(s[t]="???")}return s.join("")}constructor(t,e,...s){this.id=t,this.message=D.processString(e,s)}}D.pattern=/%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g;const y=D;class P{constructor(t){this._nodes=t,this.startStr="",this.startI=0,this.stopI=0}get nodes(){return this._nodes}Push(...t){this._nodes.push(...t)}Pop(){return this._nodes.pop()}get First(){return this._nodes[this.Size()-1]}set First(t){this._nodes[this.Size()-1]=t}get Last(){return this._nodes[0]}set Last(t){this._nodes[0]=t}Peek(t){return null==t&&(t=1),this._nodes.slice(this.Size()-t)}Size(){return this._nodes.length}Clear(){this._nodes=[]}toMml(t=!0,e){return 1!==this._nodes.length||e?this.create("node",t?"inferredMrow":"mrow",this._nodes,{}):this.First}create(t,...e){return this.factory.configuration.nodeFactory.create(t,...e)}}class x extends P{constructor(t,...e){super(e),this.factory=t,this.global={},this._properties={},this.isOpen&&(this._env={})}get kind(){return"base"}get env(){return this._env}set env(t){this._env=t}get copyEnv(){return!0}getProperty(t){return this._properties[t]}setProperty(t,e){return this._properties[t]=e,this}get isOpen(){return!1}get isClose(){return!1}get isFinal(){return!1}isKind(t){return t===this.kind}checkItem(t){if(t.isKind("over")&&this.isOpen&&(t.setProperty("num",this.toMml(!1)),this.Clear()),t.isKind("cell")&&this.isOpen){if(t.getProperty("linebreak"))return x.fail;throw new y("Misplaced","Misplaced %1",t.getName())}if(t.isClose&&this.getErrors(t.kind)){const[e,s]=this.getErrors(t.kind);throw new y(e,s,t.getName())}return t.isFinal?(this.Push(t.First),x.fail):x.success}clearEnv(){for(const t of Object.keys(this.env))delete this.env[t]}setProperties(t){return Object.assign(this._properties,t),this}getName(){return this.getProperty("name")}toString(){return this.kind+"["+this.nodes.join("; ")+"]"}getErrors(t){return(this.constructor.errors||{})[t]||x.errors[t]}}var k,v;x.fail=[null,!1],x.success=[null,!0],x.errors={end:["MissingBeginExtraEnd","Missing \\begin{%1} or extra \\end{%1}"],close:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],right:["MissingLeftExtraRight","Missing \\left or extra \\right"],middle:["ExtraMiddle","Extra \\middle"]},function(t){t.Variant={NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",INITIAL:"inital",TAILED:"tailed",LOOPED:"looped",STRETCHED:"stretched",CALLIGRAPHIC:"-tex-calligraphic",BOLDCALLIGRAPHIC:"-tex-bold-calligraphic",OLDSTYLE:"-tex-oldstyle",BOLDOLDSTYLE:"-tex-bold-oldstyle",MATHITALIC:"-tex-mathit"},t.Form={PREFIX:"prefix",INFIX:"infix",POSTFIX:"postfix"},t.LineBreak={AUTO:"auto",NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},t.LineBreakStyle={BEFORE:"before",AFTER:"after",DUPLICATE:"duplicate",INFIXLINBREAKSTYLE:"infixlinebreakstyle"},t.IndentAlign={LEFT:"left",CENTER:"center",RIGHT:"right",AUTO:"auto",ID:"id",INDENTALIGN:"indentalign"},t.IndentShift={INDENTSHIFT:"indentshift"},t.LineThickness={THIN:"thin",MEDIUM:"medium",THICK:"thick"},t.Notation={LONGDIV:"longdiv",ACTUARIAL:"actuarial",PHASORANGLE:"phasorangle",RADICAL:"radical",BOX:"box",ROUNDEDBOX:"roundedbox",CIRCLE:"circle",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",UPDIAGONALSTRIKE:"updiagonalstrike",DOWNDIAGONALSTRIKE:"downdiagonalstrike",VERTICALSTRIKE:"verticalstrike",HORIZONTALSTRIKE:"horizontalstrike",NORTHEASTARROW:"northeastarrow",MADRUWB:"madruwb",UPDIAGONALARROW:"updiagonalarrow"},t.Align={TOP:"top",BOTTOM:"bottom",CENTER:"center",BASELINE:"baseline",AXIS:"axis",LEFT:"left",RIGHT:"right"},t.Lines={NONE:"none",SOLID:"solid",DASHED:"dashed"},t.Side={LEFT:"left",RIGHT:"right",LEFTOVERLAP:"leftoverlap",RIGHTOVERLAP:"rightoverlap"},t.Width={AUTO:"auto",FIT:"fit"},t.Actiontype={TOGGLE:"toggle",STATUSLINE:"statusline",TOOLTIP:"tooltip",INPUT:"input"},t.Overflow={LINBREAK:"linebreak",SCROLL:"scroll",ELIDE:"elide",TRUNCATE:"truncate",SCALE:"scale"},t.Unit={EM:"em",EX:"ex",PX:"px",IN:"in",CM:"cm",MM:"mm",PT:"pt",PC:"pc"},t.Attr={LATEX:"data-latex",LATEXITEM:"data-latex-item"}}(k||(k={}));class W{constructor(t,e,s){this._string=t,this.configuration=s,this.macroCount=0,this.i=0,this.currentCS="",this.saveI=0;const i=e.hasOwnProperty("isInner"),r=e.isInner;let n;if(delete e.isInner,e){n={};for(const t of Object.keys(e))n[t]=e[t]}this.configuration.pushParser(this),this.stack=new S(this.itemFactory,n,!i||r),this.Parse(),this.Push(this.itemFactory.create("stop")),this.updateResult(this.string,this.i),this.stack.env=n}get options(){return this.configuration.options}get itemFactory(){return this.configuration.itemFactory}get tags(){return this.configuration.tags}set string(t){this._string=t}get string(){return this._string}parse(t,e){const s=this.saveI;this.saveI=this.i;let i=this.configuration.handlers.get(t).parse(e);return this.updateResult(e[1],s),this.saveI=s,i}lookup(t,e){return this.configuration.handlers.get(t).lookup(e)}contains(t,e){return this.configuration.handlers.get(t).contains(e)}toString(){let t="";for(const e of Array.from(this.configuration.handlers.keys()))t+=e+": "+this.configuration.handlers.get(e)+"\n";return t}Parse(){let t;for(;this.i<this.string.length;)t=this.getCodePoint(),this.i+=t.length,this.parse(e.CHARACTER,[this,t])}Push(t){t instanceof x&&(t.startI=this.saveI,t.stopI=this.i,t.startStr=this.string),t instanceof N&&t.isInferred?this.PushAll(t.childNodes):this.stack.Push(t)}PushAll(t){for(const e of t)this.stack.Push(e)}mml(){if(!this.stack.Top().isKind("mml"))return null;let t=this.stack.Top().First;return this.configuration.popParser(),t.attributes.set(k.Attr.LATEX,this.string),t}convertDelimiter(t){const s=this.lookup(e.DELIMITER,t);return s?s.char:null}getCodePoint(){const t=this.string.codePointAt(this.i);return void 0===t?"":String.fromCodePoint(t)}nextIsSpace(){return!!this.string.charAt(this.i).match(/\s/)}GetNext(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()}GetCS(){let t=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return t?(this.i+=t[0].length,t[2]||t[1]):(this.i++," ")}GetArgument(t,e){switch(this.GetNext()){case"":if(!e)throw new y("MissingArgFor","Missing argument for %1",this.currentCS);return null;case"}":if(!e)throw new y("ExtraCloseMissingOpen","Extra close brace or missing open brace");return null;case"\\":return this.i++,"\\"+this.GetCS();case"{":let t=++this.i,s=1;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":s++;break;case"}":if(0===--s)return this.string.slice(t,this.i-1)}throw new y("MissingCloseBrace","Missing close brace")}const s=this.getCodePoint();return this.i+=s.length,s}GetBrackets(t,e,s=!1){if("["!==this.GetNext())return e;let i=++this.i,r=0,n=0;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":r++;break;case"\\":this.i++;break;case"}":if(r--<=0)throw new y("ExtraCloseLooking","Extra close brace while looking for %1","']'");break;case"[":0===r&&n++;break;case"]":if(0===r){if(!s||0===n)return this.string.slice(i,this.i-1);n--}}throw new y("MissingCloseBracket","Could not find closing ']' for argument to %1",this.currentCS)}GetDelimiter(t,s){let i=this.GetNext();if(this.i+=i.length,this.i<=this.string.length&&("\\"===i?i+=this.GetCS():"{"===i&&s&&(this.i--,i=this.GetArgument(t).trim()),this.contains(e.DELIMITER,i)))return this.convertDelimiter(i);throw new y("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetDimen(t){if("{"===this.GetNext()){let e=this.GetArgument(t),[s,i]=o.matchDimen(e);if(s)return s+i}else{let t=this.string.slice(this.i),[e,s,i]=o.matchDimen(t,!0);if(e)return this.i+=i,e+s}throw new y("MissingDimOrUnits","Missing dimension or its units for %1",this.currentCS)}GetUpTo(t,e){for(;this.nextIsSpace();)this.i++;let s=this.i,i=0;for(;this.i<this.string.length;){let t=this.i,r=this.GetNext();switch(this.i+=r.length,r){case"\\":r+=this.GetCS();break;case"{":i++;break;case"}":if(0===i)throw new y("ExtraCloseLooking","Extra close brace while looking for %1",e);i--}if(0===i&&r===e)return this.string.slice(s,t)}throw new y("TokenNotFoundForCommand","Could not find %1 for %2",e,this.currentCS)}ParseArg(t){return new W(this.GetArgument(t),this.stack.env,this.configuration).mml()}ParseUpTo(t,e){return new W(this.GetUpTo(t,e),this.stack.env,this.configuration).mml()}GetDelimiterArg(t){let s=o.trimSpaces(this.GetArgument(t));if(""===s)return null;if(this.contains(e.DELIMITER,s))return s;throw new y("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetStar(){let t="*"===this.GetNext();return t&&this.i++,t}create(t,...e){const s=this.configuration.nodeFactory.create(t,...e);return s.isToken&&s.attributes.hasExplicit("mathvariant")&&"-"===s.attributes.get("mathvariant").charAt(0)&&s.setProperty("ignore-variant",!0),s}updateResult(t,e){let s=this.stack.Prev(!0);if(!s)return;let i=s.attributes.get(k.Attr.LATEXITEM);if(void 0!==i)return void s.attributes.set(k.Attr.LATEX,i);let r=(e=e<this.saveI?this.saveI:e)!==this.i?this.string.slice(e,this.i):t;if(r=r.trim(),r)if("\\"===t&&(r="\\"+r),"^"!==s.attributes.get(k.Attr.LATEX)||"^"===r||"\\^"===r)if("_"!==s.attributes.get(k.Attr.LATEX)||"_"===r||"\\_"===r)"}"!==r?s.attributes.set(k.Attr.LATEX,r):this.composeBraces(s);else if(s.childNodes[1]&&("}"===r?this.composeBraces(s.childNodes[1]):s.childNodes[1].attributes.set(k.Attr.LATEX,r)),s.childNodes[2]){const t=s.childNodes[2].attributes.get(k.Attr.LATEX);this.composeLatex(s,`^${t}_`,0,1)}else this.composeLatex(s,"_",0,1);else if(s.childNodes[2]&&("}"===r?this.composeBraces(s.childNodes[2]):s.childNodes[2].attributes.set(k.Attr.LATEX,r)),s.childNodes[1]){const t=s.childNodes[1].attributes.get(k.Attr.LATEX);this.composeLatex(s,`_${t}^`,0,2)}else this.composeLatex(s,"^",0,2)}composeLatex(t,e,s,i){if(!t.childNodes[s]||!t.childNodes[i])return;const r=t.childNodes[s].attributes.get(k.Attr.LATEX)+e+t.childNodes[i].attributes.get(k.Attr.LATEX);t.attributes.set(k.Attr.LATEX,r)}composeBraces(t){if(!t)return;let e=this.composeBracedContent(t);t.attributes.set(k.Attr.LATEX,`{${e}}`)}composeBracedContent(t){var e,s;let i=null===(e=t.childNodes[0])||void 0===e?void 0:e.childNodes,r="";for(const t of i){let e=(null===(s=t.attributes)||void 0===s?void 0:s.get(k.Attr.LATEX))||"";e&&(r+=r&&r.match(/[a-zA-Z]$/)&&e.match(/^[a-zA-Z]/)?" "+e:e)}return r}}class M{constructor(t="???",e=""){this.tag=t,this.id=e}}class w{constructor(t="",e=!1,s=!1,i=null,r="",n="",a=!1,o=""){this.env=t,this.taggable=e,this.defaultTags=s,this.tag=i,this.tagId=r,this.tagFormat=n,this.noTag=a,this.labelId=o}}class H{constructor(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new w,this.history=[],this.stack=[],this.enTag=function(t,e){let s=this.configuration.nodeFactory,i=s.create("node","mtd",[t]),r=s.create("node","mlabeledtr",[e,i]);return s.create("node","mtable",[r],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}start(t,e,s){this.currentTag&&this.stack.push(this.currentTag);const i=this.label;this.currentTag=new w(t,e,s),this.label=i}get env(){return this.currentTag.env}end(){this.history.push(this.currentTag);const t=this.label;this.currentTag=this.stack.pop(),t&&!this.label&&(this.label=t)}tag(t,e){this.currentTag.tag=t,this.currentTag.tagFormat=e?t:this.formatTag(t),this.currentTag.noTag=!1}notag(){this.tag("",!0),this.currentTag.noTag=!0}get noTag(){return this.currentTag.noTag}set label(t){this.currentTag.labelId=t}get label(){return this.currentTag.labelId}formatUrl(t,e){return e+"#"+encodeURIComponent(t)}formatTag(t){return"("+t+")"}formatRef(t){return this.formatTag(t)}formatId(t){return"mjx-eqn:"+t.replace(/\s/g,"_")}formatNumber(t){return t.toString()}autoTag(){null==this.currentTag.tag&&(this.counter++,this.tag(this.formatNumber(this.counter),!1))}clearTag(){this.tag(null,!0),this.currentTag.tagId=""}getTag(t=!1){if(t)return this.autoTag(),this.makeTag();const e=this.currentTag;return e.taggable&&!e.noTag&&(e.defaultTags&&this.autoTag(),e.tag)?this.makeTag():null}resetTag(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()}reset(t=0){this.resetTag(),this.counter=this.allCounter=t,this.allLabels={},this.allIds={},this.label=""}startEquation(t){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new w("",void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;const e=t.inputData.recompile;e&&(this.refUpdate=!0,this.counter=e.counter)}finishEquation(t){this.redo&&(t.inputData.recompile={state:t.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)}finalize(t,e){if(!e.display||this.currentTag.env||null==this.currentTag.tag)return t;let s=this.makeTag();return this.enTag(t,s)}makeId(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds&&this.label||this.currentTag.tag)}makeTag(){this.makeId(),this.label&&(this.labels[this.label]=new M(this.currentTag.tag,this.currentTag.tagId),this.label="");let t=new W("\\text{"+this.currentTag.tagFormat+"}",{},this.configuration).mml();return this.configuration.nodeFactory.create("node","mtd",[t],{id:this.currentTag.tagId,rowalign:this.configuration.options.tagAlign})}}class G extends H{autoTag(){}getTag(){return this.currentTag.tag?super.getTag():null}}class F extends H{finalize(t,e){if(!e.display||this.history.find(function(t){return t.taggable}))return t;let s=this.getTag(!0);return this.enTag(t,s)}}!function(t){let e=new Map([["none",G],["all",F]]),s="none";t.OPTIONS={tags:s,tagSide:"right",tagIndent:"0.8em",useLabelIds:!0,ignoreDuplicateLabels:!1,tagAlign:"baseline"},t.add=function(t,s){e.set(t,s)},t.addTags=function(e){for(const s of Object.keys(e))t.add(s,e[s])},t.create=function(t){let i=e.get(t)||e.get(s);if(!i)throw Error("Unknown tags class");return new i},t.setDefault=function(t){s=t},t.getDefault=function(){return t.create(s)}}(v||(v={}));class _{static makeProcessor(t,e){return Array.isArray(t)?t:[t,e]}static _create(e,s={}){let i=s.priority||r.DEFAULTPRIORITY,n=s.init?this.makeProcessor(s.init,i):null,a=s.config?this.makeProcessor(s.config,i):null,o=(s.preprocessors||[]).map(t=>this.makeProcessor(t,i)),E=(s.postprocessors||[]).map(t=>this.makeProcessor(t,i)),h=s.parser||"tex";return new _(e,s[t.HANDLER]||{},s[t.FALLBACK]||{},s[t.ITEMS]||{},s[t.TAGS]||{},s[t.OPTIONS]||{},s[t.NODES]||{},o,E,n,a,i,h)}static create(t,e={}){let s=_._create(t,e);return K.set(t,s),s}static local(t={}){return _._create("",t)}constructor(t,s={},i={},r={},n={},a={},o={},E=[],h=[],l=null,c=null,R,u){this.name=t,this.handler=s,this.fallback=i,this.items=r,this.tags=n,this.options=a,this.nodes=o,this.preprocessors=E,this.postprocessors=h,this.initMethod=l,this.configMethod=c,this.priority=R,this.parser=u,this.handler=Object.assign({[e.CHARACTER]:[],[e.DELIMITER]:[],[e.MACRO]:[],[e.ENVIRONMENT]:[]},s)}get init(){return this.initMethod?this.initMethod[0]:null}get config(){return this.configMethod?this.configMethod[0]:null}}let j=new Map;const K={set(t,e){j.set(t,e)},get:t=>j.get(t),keys:()=>j.keys()};class X{constructor(t,e,s=[]){this._token=t,this._func=e,this._args=s}get token(){return this._token}get func(){return this._func}get args(){return this._args}}function U(t){return void 0===t||t}class z{constructor(t,e){this._name=t,this._parser=e,a.register(this)}get name(){return this._name}parserFor(t){return this.contains(t)?this.parser:null}parse([t,e]){let s=this.parserFor(e),i=this.lookup(e);return s&&i?U(s(t,i)):null}set parser(t){this._parser=t}get parser(){return this._parser}}class $ extends z{constructor(){super(...arguments),this.map=new Map}lookup(t){return this.map.get(t)}contains(t){return this.map.has(t)}add(t,e){this.map.set(t,e)}remove(t){this.map.delete(t)}}class V extends ${constructor(t,e,s={}){super(t,null);const i=t=>"string"==typeof t?s[t]:t;for(const[t,s]of Object.entries(e)){let e,r;Array.isArray(s)?(e=i(s[0]),r=s.slice(1)):(e=i(s),r=[]);let n=new X(t,e,r);this.add(t,n)}}parserFor(t){let e=this.lookup(t);return e?e.func:null}parse([t,e]){let s=this.lookup(e),i=this.parserFor(e);return s&&i?U(i(t,s.token,...s.args)):null}}const Y={a:"أ",b:"ب",c:"جـ",x:"س",y:"ص",z:"ع",n:"ن",f:"ق",g:"جـ",h:"هـ",k:"ك",r:"ر",t:"ت",d:"د",e:"هـ",m:"م",l:"ل",sin:"جا",cos:"جتا",tan:"ظا",cot:"ظتا",sec:"قا",csc:"قتا",log:"لو"},Z={0:"٠",1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩"},q={",":"،",";":"؛",lim:"نهــا"};function J(t,e){let s=e.replace(/\d/g,t=>Z[t]||t);return s=s.replace(/[a-zA-Z]+/g,t=>Y[t]||t),s=s.replace(/[,;]/g,t=>q[t]||t),s}function Q(t){const e={};for(const s in t)e[t[s]]=s;return e}const tt=Q(Y),et=Q(Z),st=Q(q);function it(t){let e=t.replace(/[\u0660-\u0669]/g,t=>et[t]||t);return e=e.replace(/[\u0621-\u064A]+/g,t=>tt[t]||t),e=e.replace(/[،؛]/g,t=>st[t]||t),e}const rt=/[\u0600-\u06FF]/,nt=/[a-zA-Z]/,at={auto:(t,e)=>{const s=t.GetArgument(e);var i;const r="ar"==(((i=s).match(new RegExp(rt.source,"g"))||[]).length>(i.match(new RegExp(nt.source,"g"))||[]).length?"ar":"en")?it(s):J(0,s);t.string=r+t.string.slice(t.i),t.i=0},ar:(t,e)=>{const s=t.GetArgument(e);t.string=J(0,s)+t.string.slice(t.i),t.i=0},en:(t,e)=>{const s=t.GetArgument(e);t.string=it(s)+t.string.slice(t.i),t.i=0},trans:(t,e)=>{const s=t.GetArgument(e);t.Push(t.create("token","mtext",{},J(0,s)))},transn:(t,e)=>{const s=t.GetArgument(e);t.Push(t.create("token","mn",{},function(t,e){const s=e.toString();let i="";for(let t=0;t<s.length;t++){const e=s[t];i+="."===e?"٫":Z[e]||e}return i}(0,s)))}},ot={zero:["zero","0","صفر"],radius:["radius","r","نق"],Area:["Area","A","م"],charge:["charge","C","\\text{ڛ}"]};function Et(t,e){return(s,i)=>{const r=s.options.arabic.isArabicPage()?e:t;s.Push(s.create("token","mtext",{},r))}}for(const t in ot){const[e,s,i]=ot[t];at[e]=Et(s,i)}new class extends V{parse([t,e]){let s=this.lookup(e),i=this.parserFor(e);if(!s||!i)return null;let r=t.currentCS;t.currentCS="\\"+e;let n=i(t,"\\"+s.token,...s.args);return t.currentCS=r,U(n)}}("arabic-macros",{auto:"auto",ar:"ar",en:"en",trans:"trans",transn:"transn",zero:"zero",radius:"radius",Area:"Area",charge:"charge"},at);const ht=_.create("arabic-extension",{handler:{macro:["arabic-macros"]},options:{arabic:{isArabicPage:()=>"undefined"!=typeof document&&"ar"===document.documentElement.lang}}});return i})());